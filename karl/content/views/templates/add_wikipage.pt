<div xmlns="http://www.w3.org/1999/xhtml" 
     xmlns:tal="http://xml.zope.org/namespaces/tal"
     xmlns:metal="http://xml.zope.org/namespaces/metal"
     metal:use-macro="api.community_layout.macros['master']">

  <div metal:fill-slot="content">
    
    <div metal:use-macro="api.snippets.macros['status_message']"/>

    <h1 class="kscreentitle">${api.page_title}</h1>

  <form method="post" action="${post_url}" class="k3_genericForm"
	xml:id="contentform" enctype="multipart/form-data" name="save">

    <div metal:use-macro="formfields.macros['formerror']"/>

    <div style="display:none">
      <fieldset metal:use-macro="formfields.macros['title-field']"/>
    </div>
    <fieldset metal:use-macro="formfields.macros['tags-field']"/>

    <fieldset metal:define-macro="text-field"
	      tal:define="error fielderrors['text']|None"
	      class="${error and 'fieldError' or ''}">
      <label>Body text</label>
      <div class="fieldHelp">You can create a new page by naming it and 
	surrounding the name with ((double parentheses)). When you save 
	the page, the contents of the parentheses will have a small 
	+ link next to it, which you can click to create a new page 
	with that name.</div>
      <div tal:condition="error" class="errorMessage">${error}</div>
      <input type="hidden" name="text_text_format" value="text/html" />
      <textarea id="text" name="text" rows="1" cols="40"
		class="mceEditor karlrichtextfield"></textarea>
    </fieldset>

    <fieldset metal:use-macro="formfields.macros['sendalert-field']"/>
    <fieldset metal:use-macro="formfields.macros['security-state-field']"/>
    <fieldset metal:use-macro="formfields.macros['form-submit']"/>
  </form>

  </div>

</div>
